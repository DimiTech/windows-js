!function(e){var n={};function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(s,i,function(n){return e[n]}.bind(null,i));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="./dist/",t(t.s=0)}([function(e,n,t){(function(e){function n(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),e}!function(){var s="js-window",o=function(){function e(){var n=this;t(this,e),this.windows=[],Array.from(document.getElementsByClassName(s)).forEach(function(e){return n.addWindow(e)})}return i(e,[{key:"addWindow",value:function(e){var n=new d(this,e,this.windows.length,e.dataset);this.windows.push(n),this.focusOnWindow(n)}},{key:"destroyWindow",value:function(e){if(this.windows=this.windows.filter(function(n){return n!==e}),e.destroy(),this.windows.length>0){var n=this.getWindowWithMaxZIndex();this.focusOnWindow(n)}}},{key:"focusOnWindow",value:function(e){var n=this;if(0!==this.windows.length){var t=this.getWindowWithMaxZIndex().zIndex;e.zIndex=t+1,this.windows.sort(function(e,n){return e.zIndex<n.zIndex?-1:1}).forEach(function(e,t){e.setZIndex(t),t===n.windows.length-1?e.setFocused(!0):e.setFocused(!1)})}else e.setFocused(!0)}},{key:"getWindowWithMaxZIndex",value:function(){return this.windows.reduce(function(e,n){return e.zIndex>n.zIndex?e:n},this.windows[0])}}]),e}(),d=function(){function e(n,i,o,d){var l=this;t(this,e),this.windowManager=n,this.domElement=i,this.titleDomElement=i.getElementsByClassName("".concat(s,"-title"))[0],this.btnCloseDomElement=this.titleDomElement.getElementsByClassName("".concat(s,"-btn-close"))[0];var a=d.x,r=d.y,u=d.width,c=d.height;this.setX(parseInt(a)),this.setY(parseInt(r)),this.setWidth(parseInt(u)),this.setHeight(parseInt(c)),this.setZIndex(parseInt(o)),this.resizeHandles={N:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-n"))[0],isMouseDown:!1,moveHandler:function(n){var t=n.clientY>=0?n.clientY:0,s=l.y+l.height-t;s>=e.MIN_HEIGHT?(l.setHeight(s),l.setY(t)):(l.setY(l.y+l.height-e.MIN_HEIGHT),l.setHeight(e.MIN_HEIGHT))}},NE:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-ne"))[0],isMouseDown:!1},E:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-e"))[0],isMouseDown:!1,moveHandler:function(e){var n=e.clientX-l.x;l.x+n>window.innerWidth&&(n=window.innerWidth-l.x),l.setWidth(n)}},SE:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-se"))[0],isMouseDown:!1},S:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-s"))[0],isMouseDown:!1,moveHandler:function(e){var n=e.clientY-l.y;l.y+n>window.innerHeight&&(n=window.innerHeight-l.y),l.setHeight(n)}},SW:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-sw"))[0],isMouseDown:!1},W:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-w"))[0],isMouseDown:!1,moveHandler:function(n){var t=n.clientX>=0?n.clientX:0,s=l.x+l.width-t;s>=e.MIN_WIDTH?(l.setWidth(s),l.setX(t)):(l.setX(l.x+l.width-e.MIN_WIDTH),l.setWidth(e.MIN_WIDTH))}},NW:{domElement:this.domElement.getElementsByClassName("".concat(s,"-handle-nw"))[0],isMouseDown:!1}},this.isMouseDownOnCloseBtn=!1,this.isMouseDownOnTitle=!1,this.addEventListeners()}return i(e,[{key:"destroy",value:function(){this.domElement.parentNode.removeChild(this.domElement)}},{key:"addEventListeners",value:function(){var e=this;this.domElement.addEventListener("mousedown",function(n){e.windowManager.focusOnWindow(e)}),document.addEventListener("mouseup",function(n){e.isMouseDownOnTitle=!1,e.isMouseDownOnCloseBtn=!1,"url(./img/win-98_close_btn.png)"!==e.btnCloseDomElement.style.backgroundImage&&(e.btnCloseDomElement.style.backgroundImage="url(./img/win-98_close_btn.png)"),e.resizeHandles.N.isMouseDown=!1,e.resizeHandles.NE.isMouseDown=!1,e.resizeHandles.E.isMouseDown=!1,e.resizeHandles.SE.isMouseDown=!1,e.resizeHandles.S.isMouseDown=!1,e.resizeHandles.SW.isMouseDown=!1,e.resizeHandles.W.isMouseDown=!1,e.resizeHandles.NW.isMouseDown=!1}),this.titleDomElement.addEventListener("mousedown",function(n){e.isMouseDownOnTitle=!0,e.mouseDx=n.clientX-e.x,e.mouseDy=n.clientY-e.y}),document.addEventListener("mousemove",function(n){e.isMouseDownOnTitle&&!1===e.isMouseDownOnCloseBtn&&(n.clientX>0&&n.clientX<window.innerWidth&&e.setX(n.clientX-e.mouseDx),n.clientY<window.innerHeight&&e.setY(n.clientY-e.mouseDy)),e.resizeHandles.N.isMouseDown&&e.resizeHandles.N.moveHandler(n),e.resizeHandles.NE.isMouseDown&&(e.resizeHandles.N.moveHandler(n),e.resizeHandles.E.moveHandler(n)),e.resizeHandles.E.isMouseDown&&e.resizeHandles.E.moveHandler(n),e.resizeHandles.SE.isMouseDown&&(e.resizeHandles.S.moveHandler(n),e.resizeHandles.E.moveHandler(n)),e.resizeHandles.S.isMouseDown&&e.resizeHandles.S.moveHandler(n),e.resizeHandles.SW.isMouseDown&&(e.resizeHandles.S.moveHandler(n),e.resizeHandles.W.moveHandler(n)),e.resizeHandles.W.isMouseDown&&e.resizeHandles.W.moveHandler(n),e.resizeHandles.NW.isMouseDown&&(e.resizeHandles.N.moveHandler(n),e.resizeHandles.W.moveHandler(n))}),this.btnCloseDomElement.addEventListener("mousedown",function(n){e.isMouseDownOnCloseBtn=!0,e.btnCloseDomElement.style.backgroundImage="url(./img/win-98_close_btn_pressed.png)"}),this.btnCloseDomElement.addEventListener("click",function(n){e.windowManager.destroyWindow(e)}),this.resizeHandles.N.domElement.addEventListener("mousedown",function(n){e.resizeHandles.N.isMouseDown=!0}),this.resizeHandles.NE.domElement.addEventListener("mousedown",function(n){e.resizeHandles.NE.isMouseDown=!0}),this.resizeHandles.E.domElement.addEventListener("mousedown",function(n){e.resizeHandles.E.isMouseDown=!0}),this.resizeHandles.SE.domElement.addEventListener("mousedown",function(n){e.resizeHandles.SE.isMouseDown=!0}),this.resizeHandles.S.domElement.addEventListener("mousedown",function(n){e.resizeHandles.S.isMouseDown=!0}),this.resizeHandles.SW.domElement.addEventListener("mousedown",function(n){e.resizeHandles.SW.isMouseDown=!0}),this.resizeHandles.W.domElement.addEventListener("mousedown",function(n){e.resizeHandles.W.isMouseDown=!0}),this.resizeHandles.NW.domElement.addEventListener("mousedown",function(n){e.resizeHandles.NW.isMouseDown=!0})}},{key:"setZIndex",value:function(e){this.zIndex=e,this.domElement.style.zIndex=this.zIndex}},{key:"setFocused",value:function(e){e?this.titleDomElement.classList.add("".concat(s,"-title-focused")):this.titleDomElement.classList.remove("".concat(s,"-title-focused"))}},{key:"setX",value:function(e){this.x=e,this.domElement.style.left=e+"px"}},{key:"setY",value:function(e){e<0&&(e=0),this.y=e,this.domElement.style.top=e+"px"}},{key:"setWidth",value:function(n){n<=e.MIN_WIDTH&&(n=e.MIN_WIDTH),this.width=n,this.domElement.style.width=this.width+"px"}},{key:"setHeight",value:function(n){n<=e.MIN_HEIGHT&&(n=e.MIN_HEIGHT),this.height=n,this.domElement.style.height=this.height+"px"}}]),e}();n(d,"MIN_WIDTH",100),n(d,"MIN_HEIGHT",100);var l=new o;e.WINDOWS_JS={addWindow:function(e){var n=document.createElement("div");n.setAttribute("class",s),n.setAttribute("data-width",e.w),n.setAttribute("data-height",e.h),n.setAttribute("data-x",e.x),n.setAttribute("data-y",e.y);var t=document.createElement("div");t.setAttribute("class","".concat(s,"-title"));var i=document.createElement("span");i.setAttribute("class","".concat(s,"-title-text")),i.textContent=e.title||"";var o=document.createElement("span");o.setAttribute("class","".concat(s,"-btn-close")),t.appendChild(i),t.appendChild(o);var d={N:document.createElement("div"),NE:document.createElement("div"),E:document.createElement("div"),SE:document.createElement("div"),S:document.createElement("div"),SW:document.createElement("div"),W:document.createElement("div"),NW:document.createElement("div")};return d.N.setAttribute("class","".concat(s,"-handle-n")),d.NE.setAttribute("class","".concat(s,"-handle-ne")),d.E.setAttribute("class","".concat(s,"-handle-e")),d.SE.setAttribute("class","".concat(s,"-handle-se")),d.S.setAttribute("class","".concat(s,"-handle-s")),d.SW.setAttribute("class","".concat(s,"-handle-sw")),d.W.setAttribute("class","".concat(s,"-handle-w")),d.NW.setAttribute("class","".concat(s,"-handle-nw")),n.appendChild(t),n.appendChild(d.N),n.appendChild(d.NE),n.appendChild(d.E),n.appendChild(d.SE),n.appendChild(d.S),n.appendChild(d.SW),n.appendChild(d.W),n.appendChild(d.NW),document.body.appendChild(n),l.addWindow(n),{}}}}(e=window)}).call(this,t(1))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t}]);